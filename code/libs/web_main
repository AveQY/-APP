require "import"import "android.app.*"import "android.os.*"import "android.widget.*"import "android.view.*"import "loadlayout"import "loadmenu"import "loadbitmap"import "http"import "socket"import "mime"import "ltn12"import "socket.headers"import "socket.url"
activity.setTheme(R.Theme_Black)activity.ActionBar.hide()activity.setTitle(io.open(activity.getLuaDir().."/init"):read("*a"))layout={  FrameLayout;  layout_height="fill";  layout_width="fill";  backgroundColor="#FFFFFFFF";  {    LuaWebView;    id="web";    layout_height="fill";    layout_width="match_parent";  };  {   CardView;    layout_height="55dp";    id="bottom_bar";    layout_width="fill";    elevation="1";   layout_margin="13dp";    layout_gravity="bottom";    backgroundColor="#ffffffff";    radius="22dp";    {      LinearLayout;      layout_width="fill";      layout_height="fill";      orientation="horizontal";      backgroundColor="#00ffffff";      {        LinearLayout;        id="c1";        layout_height="fill";        gravity="center";        layout_width="30%w";       onClick=function()          web.goBack()        end,        {          ImageView;          src="res/ic_arrow_back_black_24dp.png";          layout_margin="18dp";          layout_width="fill";          layout_height="fill";        };      };      {        LinearLayout;        id="c2";        layout_width="33%w";        gravity="center";        layout_height="fill";        onClick=function()          web.loadUrl(io.open(activity.getLuaDir().."/a"):read("*a"))        end,       {          ImageView;          src="res/ic_home_black_24dp.png";         layout_margin="18dp";          layout_width="fill";          layout_height="fill";        };      };      {        LinearLayout;        id="c3";        layout_width="33%w";        gravity="center";        layout_height="fill";        onClick=function()          web.goForward()        end,        {          ImageView;          src="res/ic_arrow_forward_black_24dp.png";          layout_margin="18dp";          layout_width="fill";          layout_height="fill";        };     };    };  };};activity.setContentView(loadlayout(layout))activity.getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_HIDE_NAVIGATION) if io.open(activity.getLuaDir().."/b")==nil then bottom_bar.setVisibility(View.GONE) end web.loadUrl(io.open(activity.getLuaDir().."/a"):read("*a"))
function automatic() ff=io.open(activity.getLuaDir().."/automatic") if ff==nil then io.open(activity.getLuaDir().."/automatic","w"):write(""):close() else f=io.open(activity.getLuaDir().."/automatic"):read("*a") assert(loadstring(f))() end end automatic()